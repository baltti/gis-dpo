{"title":"Операции пространственного анализа","markdown":{"yaml":{"title":"Операции пространственного анализа"},"headingText":"Расчет площади объектов","containsRefs":false,"markdown":"\n\n\nДля расчета площади зданий воспользуемся калькулятором полей в таблице атрибутов.\n\n::: callout-note\n## Напоминание\n\nТаблица атрибутов может быть открыта из контекстного меню слоя.\n\n![](images/clipboard-2477555248.png){fig-align=\"center\" width=\"526\"}\n:::\n\n::: callout-important\nРасчет площади мы будем осуществлять в том слое, который вы получили по итогам перепроецирования: слой в системе координат UTM.\n:::\n\nВ открывшейся таблице атрибутов вы увидите собственную панель инструментов, на которой вам нужен калькулятор полей.\n\n![](images/clipboard-1045039255.png){fig-align=\"center\" width=\"2158\"}\n\nВ открывшемся окне калькулятора полей вам нужно создать новое поле с типом данных \"десятичное число\", в которое будет записан ваш результат.\n\nДля расчета площади необходима будет одна из функций из группы **Геометрия**: `area()`.\n\n![](images/clipboard-485574753.png){fig-align=\"center\" width=\"1489\"}\n\nСамо выражение:\n\n```         \narea ($geometry)\n```\n\nЧто значит аргумент `$geometry` в скобках?\n\nЭто говорит о том, что для расчета будет использована не какая-то конкретная геометрия одного объекта, а все геометрии слоя.\n\n::: callout-important\nОбратите внимание, что у нас есть две функции для расчета площади:\n\n-   `$area` - расчет площади осуществляется в *системе координат проекта на эллипсоиде*;\n\n-   `area()` - расчет площади осуществляется в *системе координат слоя на плоскости*.\n\nМы используем здесь второй вариант, так как нам необходим расчет именно в системе координат слоя. Для этого мы его и перепроецировали.\n:::\n\nВ результате вычисления вы получите новое поле, в которое будет записана площадь.\n\n![](images/clipboard-2007705995.png){fig-align=\"center\" width=\"961\"}\n\n::: callout-note\nВ нашем случае площадь будет рассчитана в квадратных метрах, так как мы использовали систему координат слоя, в которой единицами измерения являются метры.\n\nЭто площадь застройки здания, то есть площадь по контуру первого этажа.\n:::\n\n::: callout-tip\nВы можете аналогично рассчитать периметр здания, воспользовавшись функцией `perimeter`.\n\nОбщая площадь здания может быть рассчитана как произведение уже рассчитаной вами площади и количества этажей.\n\n![](images/clipboard-2704296193.png){fig-align=\"center\" width=\"728\"}\n:::\n\n::: callout-note\nВы можете указать это выражение в свойствах слоя в пункте *Формы полей*, тогда при создании нового объекта площадь для него будет рассчитаваться автоматически.\n\n![](images/clipboard-2535272035.png){fig-align=\"center\" width=\"1253\"}\n\nЭто будет работать для любого вашего вычисляемого поля.\n:::\n\n# Расчет коэффицента застройки\n\n::: callout-note\nДля расчета коэффициента застройки здесь использован слой *кварталы*, доступный по ссылке в папке с примерами исходных данных <https://disk.yandex.ru/d/vd3vjPY6mfZC2Q>\n\nТакже там представлен слой с жилыми многоквартирными зданиями и школами - *building_apartments* и *schools* соответственно.\n:::\n\nЧто такое коэффициент застройки?\n\nЭто отношение площади, занятой зданиями, к общей площади квартала или иной территориальной единицы.\n\n$$\nКоэффициент\\space застройки = \\dfrac{Площадь\\space здания}{Площадь \\space квартала}\n$$\n\n::: callout-important\nЗдесь используется площадь здания по наземному контуру, то есть по первому этажу.\n:::\n\n## Использование пространственного объединения\n\nНаиболее просытм способом расчета здесь будет использование одной из функций *Панели инструментов анализа* - *Объединение атрибутов по расположению (сводка)*. Эта функция позволяет присваивать одним векторным объектам агрегированное значение атрибута других векторных объектов на основе их расположения относительно друг друга.\n\n![](images/clipboard-2923347169.png){fig-align=\"center\" width=\"418\"}\n\n::: callout-note\nКак вы наверняка заметили у нас есть два варианта этой функции: просто *Объединение атрибутов по расположению* и *Объединение атрибутов по расположению (сводка)*.\n\nПервая из них присваивает значение атрибута одних векторных объектов другим на основе их взаимного расположения относительно друг друга. Например, у нас есть слой со зданиями и слой с магазинами, у которых есть атрибут с названием, мы можем с использованием этой функции присвоить зданию название магазина, который в нем расположен.\n\nСводка позволяет получить не просто значение атрибута, а его статистическую сводку (среднее, медиану, максимальное и минимальное значения и прочее).\n:::\n\nВ первую очередь необходимо выбрать, какой слой будет использован в качестве исходного, а из какого будут присоединены атрибуты.\n\nВ нашем случае мы будем присоединять атрибуты к объектам слоя с кварталами, а в качестве источника присоединяемых атрибутов будем использовать здания.\n\n![](images/clipboard-1901251046.png)\n\n::: callout-note\nПри использовании этого инструмента вам не обязательно брать слои, находящиеся в одной системе координат. Здесь системы координат значений иметь не будут.\n:::\n\nКроме того необходимо выбрать геометрический предикат, то есть как должны быть расположены объекты присоединяемого слоя по отношению к объектам исходного слоя.\n\n::: callout-note\nГеометрические предикаты показывают пространственные отношения между объектами[^1]\n\n![](images/clipboard-1413833587.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-3448253562.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-23097189.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-2097404550.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-1739071462.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-3024917096.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-4157359843.png){fig-align=\"center\" width=\"776\"}\n:::\n\n[^1]: Типы пространственных отношений <https://fishy-bottle-aa2.notion.site/1bcf188baff3804c9c26f59995850700>\n\nВ нашем случае **кварталы содержат в себе здания**, то есть нужный нам предикат - *содержит*.\n\nДалее необходимо выбрать поле для составления сводки. Если вы этого не сделаете, то будут использованы все поля присоединяемого слоя.\n\n![](images/clipboard-2259279289.png){fig-align=\"center\" width=\"1409\"}\n\nВам необходимо выбрать поле, в котором была рассчитана площадь вашего здания.\n\n![](images/clipboard-3818564217.png){fig-align=\"center\" width=\"954\"}\n\n::: callout-note\nДля возврата обратно в основное окно инструмента нужно нажать на кнопку ![](images/clipboard-1733080035.png){width=\"37\"}.\n:::\n\nЕсли вы не выберете сводку для расчета, то инструмент попытается рассчитать все сводки, которые сможет.\n\nНам с вами нужна суммарная площадь зданий в каждом квартале.\n\n![](images/clipboard-579494345.png){fig-align=\"center\" width=\"1268\"}\n\nЧто значит параметр *Отбросить записи, которые не могут быть объединены*? Если вы поставите напротив него галочку, то при объединении объектов у вас в итоговый слой не попадат кварталы, в которых нет ни одного здания, то есть те объекты исходного слоя, для которых не нашлось соответствия в слое присоединяемом.\n\n::: callout-caution\nОбратите внимание, что вам снова предалагают сохранить результат в качестве временного слоя. Вы можете выбрать опцию сохранить в файл.\n:::\n\n::: callout-important\nПеред тем, как выполнять эту операцию, не забудьте сохранить изменения в вашем слое с кварталами, так как, если вы этого не сделаете, у вас будет пустой атрибут *fid*, что приведет к ошибке в расчетах.\n:::\n\n::: callout-tip\nСкорее всего при выполнении расчетов вы увидите предупреждение о том, что у вашего слоя нет пространственного индекса и это может привести к более медленным расчетам.\n\nЭто влияет только на скорость выполнения операции.\n:::\n\nВ итоге вы получите новый слой, который выглядит как ваш исходный слой с кварталами, но в атрибутивной таблице которого содержится поле с суммарной площадью зданий внутри квартала.\n\n![](images/clipboard-2523458576.png){fig-align=\"center\" width=\"1612\"}\n\nДалее вы можете воспользоваться калькулятором полей для того, чтобы рассчитать коэффициент застройки квартала.\n\n![](images/clipboard-3822729774.png){fig-align=\"center\" width=\"1385\"}\n\n```         \n\"площадь_sum\" / area( $geometry) * 100\n```\n\n## Использование функций агрегирования\n\nТот же самый расчет можно осуществить сразу в таблице атрибутов ваших кварталов в два или даже один шаг.\n\nДля этого воспользуемся функцией агрегирования `aggregate`, которая возвращает агрегированное значение с использованием объектов другого слоя.\n\nЭта функция является очень гибкой и фактически заменяет оба упомянутых выше инструмента *Объединение атрибутов по расположению* и *Объединение атрибутов по расположению (сводка)*.\n\n![](images/clipboard-3074514937.png)\n\n```         \naggregate('apartments_UTM_bc6f07c9_7eab_4ca8_87d2_c2e029436076', \n aggregate:='sum',expression:=\"площадь\", \n filter:=contains(geometry(@parent),@geometry))\n```\n\n::: callout-warning\nЕсли вы копируете выражение, то не забудьте поменять название слоя и поля для агрегирования на свои.\n:::\n\nРассмотрим функцию подробнее.\n\nПервым аргументом функции указывается название слоя, который будет использоваться для агрегирования (присоединяемый слой). Проще всего выбрать нужный вам слой двойным кликом в группе *Слои карты* (аналогично тому, как вы выбираете название поля для расчетов в калькуляторе полей).\n\nДалее идет указание того, какой тип агрегирования должен быть использован. У нас с вами - это `sum`, то есть сумма.\n\nСледующий аргумент - `expression`, который указывает, какое поле необходимо агрегировать. Здесь вам нужно будет прописать название поля самостоятельно.\n\n::: callout-important\nОбратите внимание, что в этой функции название поля указывается в двойных кавычках, а название слоя для агрегирования - в одинарных.\n:::\n\nПоследний используемый нами аргумент функции -`filter` предназначен для фильтрации объектов, то есть здесь он будет указывать на пространственные отношения между нашим исходным слоем и присоединяемым. `geometry(@parent)` в данном случае указывает на геометрию нашего исходного слоя, а `@geometry` - на геометрию присоединяемого слоя.\n\n::: callout-important\nНе забудьте в функции заменить название слоя на ваше (первый аргумент в скобках) и название поля на то, которое у вас (в двойных кавычках после аргумента `expression`.\n:::\n\nВозможно для выполнения расчета придется немного подождать, потому что использование агрегирования здесь довольно трудоемко.\n\nВ результате вы получите новый атрибут со значением суммарной площади зданий в нем.\n\n![](images/clipboard-2261909729.png){fig-align=\"center\" width=\"599\"}\n\nДалее аналогично предыдущему разделу вы можете рассчитать коэффициент застройки с использованием калькулятора полей.\n\nДля проверки можете сравнить между собой два результата.\n\n![Слева - расчет суммарной площади зданий функцией агрегирования, справа - расчет с использованием пространственного объединения](images/clipboard-2985292051.png){fig-align=\"center\" width=\"2060\"}\n\n::: callout-note\nНа самом деле здесь вы могли бы выполнить все в один этап, просто подставив в калькулятор полей вместо поля с суммарным значением площади зданий выражение агрегирования.\n:::\n\n::: callout-tip\nПопробуйте самостоятельно по аналогии рассчитать коэффициент плотности застройки:\n\n$$\nКоэффициент\\space плотности\\space застройки = \\dfrac{Общая\\space площадь\\space здания}{Площадь \\space квартала}\n$$\n:::\n\n# Создание буферных зон\n\n::: callout-important\nПеред тем, как строить буферные зоны объектов, следует их перепроецировать в плоскую прямоугольную систему координат.\n:::\n\nБуферная зона - это область на карте, каждая точка внутри которой находится в пределах заданного расстояния от исходного объекта.\n\n![Источник: Shen, J.; Chen, L.; Wu, Y.; Jing, N. Approach to Accelerating Dissolved Vector Buffer Generation in Distributed In-Memory Cluster Architecture. ISPRS Int. J. Geo-Inf. 2018, 7, 26. https://doi.org/10.3390/ijgi7010026](images/clipboard-1352830376.png){fig-align=\"center\" width=\"1576\"}\n\n::: callout-caution\nБуферные зоны - это один из тех инструментов, которые зависимы от системы координат исходного слоя. То есть размер буфера может быть задан только в единицах измерения слоя.\n:::\n\nДля создания буферных зон есть одноименный инструмент *Буферизация* в панели инструментов анализа.\n\n![](images/clipboard-2295926105.png){fig-align=\"center\" width=\"856\"}\n\n::: callout-tip\nКак видите, у нас есть несколько очень похожих инструментов, мы с вами будем пользоваться самым простым из них.\n\nЧто же делают остальные?\n\n-   буфер переменной ширины - размер буферной зоны будет зависеть от величины какого-то показателя;\n\n-   множественный буфер - создание сразу нескольких буферных зон с определенным шагом по расстоянию;\n\n-   конические буферы (на самом деле клиновидные) - буфер для линейного объекта с разными значениями размера в начале и конце линии;\n\n-   односторонний буфер - создание буфера только с одной стороны линейного объекта;\n\n-   создать клиновидные буферы - создание буферов в форме сектора круга от точечных объектов.\n:::\n\n![Источник: https://help.axioma-gis.ru/index.html?editing_buffer.html](images/clipboard-3630713758.png){fig-align=\"center\" width=\"574\"}\n\n![Источник: https://help.axioma-gis.ru/index.html?editing_buffer.html](images/clipboard-1072641176.png){fig-align=\"center\" width=\"574\"}\n\nВ качестве размера буферной зоны мы воспользуемся основным градостроительным нормативом доступности для школ - 500 метров до жилых зданий.\n\n::: callout-note\nЕсли вы использовали другие объекты, то вы можете взять другое расстояние.\n\nНапример, для детских садов зона доступности - 300 метров, для поликлиник - 1000 метров.\n\nДля объектов коммерческой инфраструктуры нормативов нет, но вы можете взять свое произвольное значение.\n:::\n\n![](images/clipboard-1525116501.png){fig-align=\"center\" width=\"1520\"}\n\nТак как в нашем случае буферные зоны строятся для точечных объектов, то основным параметром будет расстояние - размер зоны.\n\nТакже роль будет играть параметр *Выполнить слияние результирующих полигонов*: при его выборе все полученные полигоны будут объединены в один объект.\n\nЕсли вы хотите сразу сохранить свой слой без создания временного файла, то вы можете нажать на кнопку ![](images/clipboard-4068957659.png){width=\"55\"} и выбрать пункт *Сохранить в файл*, после чего выбрать место для сохранения и указать имя файла.\n\nВ итоге вы увидите новый слой в панели слоев и его отображение на карте.\n\n![](images/clipboard-2114513451.png){fig-align=\"center\" width=\"1088\"}\n\n# Поиск объектов по расположению\n\n## Определение зданий, попавших в границы буферных зон\n\nДалее мы можем осуществить поиск домов, которые попадают в заданные области обслуживания.\n\nДля поиска объектов есть группа инструментов **Вектор — Выборка**.\n\n::: callout-note\nЧасть инструментов в ней начинается со слова *Выбрать (Выделить)*, а часть - *Извлечь*. Разница между ними в том, что в первом случае объекты просто выделяются в исходном слое, а во втором - объекты, соответствующие заданным условия, извлекаются в новый слой.\n:::\n\nКраткое описания инструментов:\n\n-   *выбрать/извлечь по атрибуту* - поиск объектов по значению одного из атрибутов;\n\n-   *выбрать/извлечь по выражению* - поиск объектов по значениям нескольких атрибутов одновременно;\n\n-   *выбрать/извлечь по пространственному отношению* - поиск объектов по их расположению относительно объектов другого слоя;\n\n-   *выделить/извлечь в пределах расстояния* - поиск объектов в пределах заданного расстояния от других объектов;\n\n-   *случайное выделение/случайное извлечение* - случайная выборка объектов из слоя (заданного числа объектов или заданного процента объектов);\n\n-   *случайное выделение в подмножествах/случайное извлечение в подмножествах* - сначала слой разбивается по категориям по одному из атрибутов, потом из каждой категории извлекается заданное число или заданный процент объектов.\n\nНам нужно определить, какие здания попадают в буферные зоны, поэтому нужно воспользоваться **выбрать\\\\извлечь по пространственному отношению**.\n\nДля выбора объектов нужно сначала указать в каком слое осуществляется поиск (слой со зданиями), геометрический оператор (как объекты расположены относительно объектов другого слоя) и слой для сравнения (буферные зоны). Геометрические операторы в данном случае лучше выбирать *Пересекает* и *Находится внутри*.\n\n![](images/clipboard-126608668.png){fig-align=\"center\" width=\"1514\"}\n\nПо результатам извлечения вы получите новый слой, который будет содержать только здания, удовлетворяющие заданным условиям.\n\n![](images/clipboard-4146872066.png){fig-align=\"center\" width=\"1119\"}\n\n::: callout-tip\nИнструмент *Выбрать по расположению* работает аналогично, но результатом у вас будет не просто новый слой, а выделенный набор объектов в текущем слое.\n:::\n\n::: callout-tip\nТакеж вы можете попробовать найти здания в пределах заданного расстояния от школ при помощи инструментов *Выделить в пределах расстояния/Извлечение в пределах расстояния*.\n\nОднако следует помнить, что расстояние будет определяться в системе координат проекта, поэтому будет отличаться от того, что получено при помощи буферных зон.\n:::\n\n## Расчет количества доступных школ\n\nРассчитаем число доступных школ для каждого из наших зданий с использованием выражения агрегирования.\n\n![](images/clipboard-3012975634.png){fig-align=\"center\" width=\"1621\"}\n\n```         \n aggregate( 'school_bufer_f66eb7f4_5fbc_470a_acf4_0fd3649f38e1', aggregate:='count',expression:=\"osm_id\", filter:=within(geometry(@parent),@geometry))\n```\n\nКак видите, выражение очень похоже на то, что мы уже использовали, меняются только некоторые аргументы.\n\nВо-первых, используется другой тип агрегирования - `count`, то есть подсчет количества; во-вторых, используется другое выражение фильтрации - в этом случае мы ищем объекты исходного слоя, *попавшие внутрь буферных зон*.\n\nПо итогам расчета получен новый атрибут, в котором указано количество школ, находящееся в радиусе доступности.\n\n![](images/clipboard-1515118183.png){fig-align=\"center\" width=\"2209\"}\n\n## Определение ближайшей школы к зданию\n\nДля расчета расстояния от здания к ближайшему объекту сервиса воспользуемся формулой:\n\n```         \nwith_variable('nearnp',\narray_first(overlay_nearest('kindergarten_UTM_d1ac0582_6be2_4fa6_8614_1c4ddf641718',@feature)),\n round(distance($geometry,geometry(@nearnp)),2) )\n```\n\n![](images/clipboard-3824681529.png){fig-align=\"center\" width=\"1246\"}\n\n::: callout-important\nОчень важно, что слои должны быть в одной системе координат, в противном случае функция работать не будет.\n\nКроме того, следует помнить, что расстояние будет рассчитываться в единицах измерения используемой системы координат.\n:::\n\n# Сетевой анализ\n\n::: callout-warning\nК сожалению, в связи с обновлением библиотек и модулей, эти операции могут работать не у всех.\n\nЕсли у вас стабильная версия QGIS и вы работаете в операционной системе Windows, то у вас будет полноценно работать нужный модуль.\n:::\n\nОдин из плагинов, который использует для сетевого анализа задаваемый пользователем граф улично-дорожной сети - это плагин **QNEAT3 - QGIS network analysis toolbox**. После установки модуля он должен появиться в панели инструментов анализа.\n\nОсновные функции этого плагина:\n\n-   построение матриц времени - origin-destination matrix;\n\n-   построение изохрон в нескольких вариациях;\n\n-   поиск кратчайшего пути между точками.\n\n## Построение изохрон\n\nПостроение изохрон в плагине QNEAT3 возможно в нескольких вариациях от одной точки или от объектов точечного слоя:\n\n-   линии равного расстояния (равного времени);\n\n-   поверхность интерполяции времени или расстояния;\n\n-   облако точек с характеристиками времения или расстояния;\n\n-   полигональные объекты.\n\n::: callout-important\nДля корректной работы алгоритмов расчета изохрон в этом плагине рекомендуется применять только плоские прямоугольные системы координат (системы координат с единицами измерений в метрах).\n:::\n\nПостроение изохрон от одной точки и от объектов точечного слоя отличается только параметрами на входе и получаемым в результате количеством изохрон, поэтому далее будет рассмотрено построение изохрон от одной точки. Исходная точка может задаваться либо просто кликом на карте, либо ее можно задать по координатам.\n\nПри построении изохрон в виде линий равного расстояния или времени нужно задать:\n\n-   слой улично-дорожной сети;\n\n-   стартовую точку;\n\n-   размер области, в пределах которой осуществляется расчет (расстояние или время в зависимости от критерия оптимизации);\n\n-   интервал между линиями;\n\n-   размер ячейки растра, получаемого в результате интерполяции;\n\n-   критерий оптимизации\n\n    -   кратчайшее расстояние - оптимизация по расстоянию, в этом случае размер области и интервала задается в единицах измерения системы координат слоя;\n\n    -   наиболее быстрый путь - оптимизация по времени, в этом случае размер области и интервал задается в секундах.\n\n![](https://baltti.github.io/gis-itmo/images/250.PNG){fig-align=\"center\"}\n\nОстальные параметры являются дополнительными и аналогичны рассмотренным выше.\n\nРезультатом расчета в этом случае будет являться два новых слоя: растр с результатами интерполяции и слой с контурами равного расстояния или времени (в зависимости от выбранного критерия оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/251.PNG){fig-align=\"center\"}\n\nВ центре полученного растра и контуров находится исходная точка.\n\nРезультирующий растр показывает более сглаженные промежуточные значения, которые получаются на основе интерполяции значений между контурами.\n\nТакой же растр получается при расчета изохрон только в виде растровой поверхности (Iso-area as interpolation).\n\nПостроение изохрон как облака точек по параметрам аналогично рассмотреному выше построению в виде линий равного времени или расстояния с небольшими исключениями: здесь указывается только общий размер области, а также можно выбрать метод расчета расстояния (по эллипсоиду или на плоскости).\n\n![](https://baltti.github.io/gis-itmo/images/252.PNG){fig-align=\"center\"}\n\nВ результате получается слой, содержащий в себе все узлы улично-дорожной сети, каждому из которых присвоен атрибут расстояния (или времени в зависимости от параметра оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/253.PNG){fig-align=\"center\"}\n\nПостроение изохрон в виде полигональных объектов аналогично построению изохрон в виде линий равного времени/расстояния, только в результате вами будут получены не линейные объекты, а площадные со значениями времени или расстояния (в зависимости от выбранного критерия оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/254.PNG){fig-align=\"center\"}\n\nВ результате как и при построении изохрон в виде линий равного времени/расстояния получается два слоя: растровый слой с результатами интерполяции и векторный слой с полигональными объектами.\n\n![](https://baltti.github.io/gis-itmo/images/255.PNG){fig-align=\"center\"}\n","srcMarkdownNoYaml":"\n\n# Расчет площади объектов\n\nДля расчета площади зданий воспользуемся калькулятором полей в таблице атрибутов.\n\n::: callout-note\n## Напоминание\n\nТаблица атрибутов может быть открыта из контекстного меню слоя.\n\n![](images/clipboard-2477555248.png){fig-align=\"center\" width=\"526\"}\n:::\n\n::: callout-important\nРасчет площади мы будем осуществлять в том слое, который вы получили по итогам перепроецирования: слой в системе координат UTM.\n:::\n\nВ открывшейся таблице атрибутов вы увидите собственную панель инструментов, на которой вам нужен калькулятор полей.\n\n![](images/clipboard-1045039255.png){fig-align=\"center\" width=\"2158\"}\n\nВ открывшемся окне калькулятора полей вам нужно создать новое поле с типом данных \"десятичное число\", в которое будет записан ваш результат.\n\nДля расчета площади необходима будет одна из функций из группы **Геометрия**: `area()`.\n\n![](images/clipboard-485574753.png){fig-align=\"center\" width=\"1489\"}\n\nСамо выражение:\n\n```         \narea ($geometry)\n```\n\nЧто значит аргумент `$geometry` в скобках?\n\nЭто говорит о том, что для расчета будет использована не какая-то конкретная геометрия одного объекта, а все геометрии слоя.\n\n::: callout-important\nОбратите внимание, что у нас есть две функции для расчета площади:\n\n-   `$area` - расчет площади осуществляется в *системе координат проекта на эллипсоиде*;\n\n-   `area()` - расчет площади осуществляется в *системе координат слоя на плоскости*.\n\nМы используем здесь второй вариант, так как нам необходим расчет именно в системе координат слоя. Для этого мы его и перепроецировали.\n:::\n\nВ результате вычисления вы получите новое поле, в которое будет записана площадь.\n\n![](images/clipboard-2007705995.png){fig-align=\"center\" width=\"961\"}\n\n::: callout-note\nВ нашем случае площадь будет рассчитана в квадратных метрах, так как мы использовали систему координат слоя, в которой единицами измерения являются метры.\n\nЭто площадь застройки здания, то есть площадь по контуру первого этажа.\n:::\n\n::: callout-tip\nВы можете аналогично рассчитать периметр здания, воспользовавшись функцией `perimeter`.\n\nОбщая площадь здания может быть рассчитана как произведение уже рассчитаной вами площади и количества этажей.\n\n![](images/clipboard-2704296193.png){fig-align=\"center\" width=\"728\"}\n:::\n\n::: callout-note\nВы можете указать это выражение в свойствах слоя в пункте *Формы полей*, тогда при создании нового объекта площадь для него будет рассчитаваться автоматически.\n\n![](images/clipboard-2535272035.png){fig-align=\"center\" width=\"1253\"}\n\nЭто будет работать для любого вашего вычисляемого поля.\n:::\n\n# Расчет коэффицента застройки\n\n::: callout-note\nДля расчета коэффициента застройки здесь использован слой *кварталы*, доступный по ссылке в папке с примерами исходных данных <https://disk.yandex.ru/d/vd3vjPY6mfZC2Q>\n\nТакже там представлен слой с жилыми многоквартирными зданиями и школами - *building_apartments* и *schools* соответственно.\n:::\n\nЧто такое коэффициент застройки?\n\nЭто отношение площади, занятой зданиями, к общей площади квартала или иной территориальной единицы.\n\n$$\nКоэффициент\\space застройки = \\dfrac{Площадь\\space здания}{Площадь \\space квартала}\n$$\n\n::: callout-important\nЗдесь используется площадь здания по наземному контуру, то есть по первому этажу.\n:::\n\n## Использование пространственного объединения\n\nНаиболее просытм способом расчета здесь будет использование одной из функций *Панели инструментов анализа* - *Объединение атрибутов по расположению (сводка)*. Эта функция позволяет присваивать одним векторным объектам агрегированное значение атрибута других векторных объектов на основе их расположения относительно друг друга.\n\n![](images/clipboard-2923347169.png){fig-align=\"center\" width=\"418\"}\n\n::: callout-note\nКак вы наверняка заметили у нас есть два варианта этой функции: просто *Объединение атрибутов по расположению* и *Объединение атрибутов по расположению (сводка)*.\n\nПервая из них присваивает значение атрибута одних векторных объектов другим на основе их взаимного расположения относительно друг друга. Например, у нас есть слой со зданиями и слой с магазинами, у которых есть атрибут с названием, мы можем с использованием этой функции присвоить зданию название магазина, который в нем расположен.\n\nСводка позволяет получить не просто значение атрибута, а его статистическую сводку (среднее, медиану, максимальное и минимальное значения и прочее).\n:::\n\nВ первую очередь необходимо выбрать, какой слой будет использован в качестве исходного, а из какого будут присоединены атрибуты.\n\nВ нашем случае мы будем присоединять атрибуты к объектам слоя с кварталами, а в качестве источника присоединяемых атрибутов будем использовать здания.\n\n![](images/clipboard-1901251046.png)\n\n::: callout-note\nПри использовании этого инструмента вам не обязательно брать слои, находящиеся в одной системе координат. Здесь системы координат значений иметь не будут.\n:::\n\nКроме того необходимо выбрать геометрический предикат, то есть как должны быть расположены объекты присоединяемого слоя по отношению к объектам исходного слоя.\n\n::: callout-note\nГеометрические предикаты показывают пространственные отношения между объектами[^1]\n\n![](images/clipboard-1413833587.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-3448253562.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-23097189.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-2097404550.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-1739071462.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-3024917096.png){fig-align=\"center\" width=\"776\"}\n\n![](images/clipboard-4157359843.png){fig-align=\"center\" width=\"776\"}\n:::\n\n[^1]: Типы пространственных отношений <https://fishy-bottle-aa2.notion.site/1bcf188baff3804c9c26f59995850700>\n\nВ нашем случае **кварталы содержат в себе здания**, то есть нужный нам предикат - *содержит*.\n\nДалее необходимо выбрать поле для составления сводки. Если вы этого не сделаете, то будут использованы все поля присоединяемого слоя.\n\n![](images/clipboard-2259279289.png){fig-align=\"center\" width=\"1409\"}\n\nВам необходимо выбрать поле, в котором была рассчитана площадь вашего здания.\n\n![](images/clipboard-3818564217.png){fig-align=\"center\" width=\"954\"}\n\n::: callout-note\nДля возврата обратно в основное окно инструмента нужно нажать на кнопку ![](images/clipboard-1733080035.png){width=\"37\"}.\n:::\n\nЕсли вы не выберете сводку для расчета, то инструмент попытается рассчитать все сводки, которые сможет.\n\nНам с вами нужна суммарная площадь зданий в каждом квартале.\n\n![](images/clipboard-579494345.png){fig-align=\"center\" width=\"1268\"}\n\nЧто значит параметр *Отбросить записи, которые не могут быть объединены*? Если вы поставите напротив него галочку, то при объединении объектов у вас в итоговый слой не попадат кварталы, в которых нет ни одного здания, то есть те объекты исходного слоя, для которых не нашлось соответствия в слое присоединяемом.\n\n::: callout-caution\nОбратите внимание, что вам снова предалагают сохранить результат в качестве временного слоя. Вы можете выбрать опцию сохранить в файл.\n:::\n\n::: callout-important\nПеред тем, как выполнять эту операцию, не забудьте сохранить изменения в вашем слое с кварталами, так как, если вы этого не сделаете, у вас будет пустой атрибут *fid*, что приведет к ошибке в расчетах.\n:::\n\n::: callout-tip\nСкорее всего при выполнении расчетов вы увидите предупреждение о том, что у вашего слоя нет пространственного индекса и это может привести к более медленным расчетам.\n\nЭто влияет только на скорость выполнения операции.\n:::\n\nВ итоге вы получите новый слой, который выглядит как ваш исходный слой с кварталами, но в атрибутивной таблице которого содержится поле с суммарной площадью зданий внутри квартала.\n\n![](images/clipboard-2523458576.png){fig-align=\"center\" width=\"1612\"}\n\nДалее вы можете воспользоваться калькулятором полей для того, чтобы рассчитать коэффициент застройки квартала.\n\n![](images/clipboard-3822729774.png){fig-align=\"center\" width=\"1385\"}\n\n```         \n\"площадь_sum\" / area( $geometry) * 100\n```\n\n## Использование функций агрегирования\n\nТот же самый расчет можно осуществить сразу в таблице атрибутов ваших кварталов в два или даже один шаг.\n\nДля этого воспользуемся функцией агрегирования `aggregate`, которая возвращает агрегированное значение с использованием объектов другого слоя.\n\nЭта функция является очень гибкой и фактически заменяет оба упомянутых выше инструмента *Объединение атрибутов по расположению* и *Объединение атрибутов по расположению (сводка)*.\n\n![](images/clipboard-3074514937.png)\n\n```         \naggregate('apartments_UTM_bc6f07c9_7eab_4ca8_87d2_c2e029436076', \n aggregate:='sum',expression:=\"площадь\", \n filter:=contains(geometry(@parent),@geometry))\n```\n\n::: callout-warning\nЕсли вы копируете выражение, то не забудьте поменять название слоя и поля для агрегирования на свои.\n:::\n\nРассмотрим функцию подробнее.\n\nПервым аргументом функции указывается название слоя, который будет использоваться для агрегирования (присоединяемый слой). Проще всего выбрать нужный вам слой двойным кликом в группе *Слои карты* (аналогично тому, как вы выбираете название поля для расчетов в калькуляторе полей).\n\nДалее идет указание того, какой тип агрегирования должен быть использован. У нас с вами - это `sum`, то есть сумма.\n\nСледующий аргумент - `expression`, который указывает, какое поле необходимо агрегировать. Здесь вам нужно будет прописать название поля самостоятельно.\n\n::: callout-important\nОбратите внимание, что в этой функции название поля указывается в двойных кавычках, а название слоя для агрегирования - в одинарных.\n:::\n\nПоследний используемый нами аргумент функции -`filter` предназначен для фильтрации объектов, то есть здесь он будет указывать на пространственные отношения между нашим исходным слоем и присоединяемым. `geometry(@parent)` в данном случае указывает на геометрию нашего исходного слоя, а `@geometry` - на геометрию присоединяемого слоя.\n\n::: callout-important\nНе забудьте в функции заменить название слоя на ваше (первый аргумент в скобках) и название поля на то, которое у вас (в двойных кавычках после аргумента `expression`.\n:::\n\nВозможно для выполнения расчета придется немного подождать, потому что использование агрегирования здесь довольно трудоемко.\n\nВ результате вы получите новый атрибут со значением суммарной площади зданий в нем.\n\n![](images/clipboard-2261909729.png){fig-align=\"center\" width=\"599\"}\n\nДалее аналогично предыдущему разделу вы можете рассчитать коэффициент застройки с использованием калькулятора полей.\n\nДля проверки можете сравнить между собой два результата.\n\n![Слева - расчет суммарной площади зданий функцией агрегирования, справа - расчет с использованием пространственного объединения](images/clipboard-2985292051.png){fig-align=\"center\" width=\"2060\"}\n\n::: callout-note\nНа самом деле здесь вы могли бы выполнить все в один этап, просто подставив в калькулятор полей вместо поля с суммарным значением площади зданий выражение агрегирования.\n:::\n\n::: callout-tip\nПопробуйте самостоятельно по аналогии рассчитать коэффициент плотности застройки:\n\n$$\nКоэффициент\\space плотности\\space застройки = \\dfrac{Общая\\space площадь\\space здания}{Площадь \\space квартала}\n$$\n:::\n\n# Создание буферных зон\n\n::: callout-important\nПеред тем, как строить буферные зоны объектов, следует их перепроецировать в плоскую прямоугольную систему координат.\n:::\n\nБуферная зона - это область на карте, каждая точка внутри которой находится в пределах заданного расстояния от исходного объекта.\n\n![Источник: Shen, J.; Chen, L.; Wu, Y.; Jing, N. Approach to Accelerating Dissolved Vector Buffer Generation in Distributed In-Memory Cluster Architecture. ISPRS Int. J. Geo-Inf. 2018, 7, 26. https://doi.org/10.3390/ijgi7010026](images/clipboard-1352830376.png){fig-align=\"center\" width=\"1576\"}\n\n::: callout-caution\nБуферные зоны - это один из тех инструментов, которые зависимы от системы координат исходного слоя. То есть размер буфера может быть задан только в единицах измерения слоя.\n:::\n\nДля создания буферных зон есть одноименный инструмент *Буферизация* в панели инструментов анализа.\n\n![](images/clipboard-2295926105.png){fig-align=\"center\" width=\"856\"}\n\n::: callout-tip\nКак видите, у нас есть несколько очень похожих инструментов, мы с вами будем пользоваться самым простым из них.\n\nЧто же делают остальные?\n\n-   буфер переменной ширины - размер буферной зоны будет зависеть от величины какого-то показателя;\n\n-   множественный буфер - создание сразу нескольких буферных зон с определенным шагом по расстоянию;\n\n-   конические буферы (на самом деле клиновидные) - буфер для линейного объекта с разными значениями размера в начале и конце линии;\n\n-   односторонний буфер - создание буфера только с одной стороны линейного объекта;\n\n-   создать клиновидные буферы - создание буферов в форме сектора круга от точечных объектов.\n:::\n\n![Источник: https://help.axioma-gis.ru/index.html?editing_buffer.html](images/clipboard-3630713758.png){fig-align=\"center\" width=\"574\"}\n\n![Источник: https://help.axioma-gis.ru/index.html?editing_buffer.html](images/clipboard-1072641176.png){fig-align=\"center\" width=\"574\"}\n\nВ качестве размера буферной зоны мы воспользуемся основным градостроительным нормативом доступности для школ - 500 метров до жилых зданий.\n\n::: callout-note\nЕсли вы использовали другие объекты, то вы можете взять другое расстояние.\n\nНапример, для детских садов зона доступности - 300 метров, для поликлиник - 1000 метров.\n\nДля объектов коммерческой инфраструктуры нормативов нет, но вы можете взять свое произвольное значение.\n:::\n\n![](images/clipboard-1525116501.png){fig-align=\"center\" width=\"1520\"}\n\nТак как в нашем случае буферные зоны строятся для точечных объектов, то основным параметром будет расстояние - размер зоны.\n\nТакже роль будет играть параметр *Выполнить слияние результирующих полигонов*: при его выборе все полученные полигоны будут объединены в один объект.\n\nЕсли вы хотите сразу сохранить свой слой без создания временного файла, то вы можете нажать на кнопку ![](images/clipboard-4068957659.png){width=\"55\"} и выбрать пункт *Сохранить в файл*, после чего выбрать место для сохранения и указать имя файла.\n\nВ итоге вы увидите новый слой в панели слоев и его отображение на карте.\n\n![](images/clipboard-2114513451.png){fig-align=\"center\" width=\"1088\"}\n\n# Поиск объектов по расположению\n\n## Определение зданий, попавших в границы буферных зон\n\nДалее мы можем осуществить поиск домов, которые попадают в заданные области обслуживания.\n\nДля поиска объектов есть группа инструментов **Вектор — Выборка**.\n\n::: callout-note\nЧасть инструментов в ней начинается со слова *Выбрать (Выделить)*, а часть - *Извлечь*. Разница между ними в том, что в первом случае объекты просто выделяются в исходном слое, а во втором - объекты, соответствующие заданным условия, извлекаются в новый слой.\n:::\n\nКраткое описания инструментов:\n\n-   *выбрать/извлечь по атрибуту* - поиск объектов по значению одного из атрибутов;\n\n-   *выбрать/извлечь по выражению* - поиск объектов по значениям нескольких атрибутов одновременно;\n\n-   *выбрать/извлечь по пространственному отношению* - поиск объектов по их расположению относительно объектов другого слоя;\n\n-   *выделить/извлечь в пределах расстояния* - поиск объектов в пределах заданного расстояния от других объектов;\n\n-   *случайное выделение/случайное извлечение* - случайная выборка объектов из слоя (заданного числа объектов или заданного процента объектов);\n\n-   *случайное выделение в подмножествах/случайное извлечение в подмножествах* - сначала слой разбивается по категориям по одному из атрибутов, потом из каждой категории извлекается заданное число или заданный процент объектов.\n\nНам нужно определить, какие здания попадают в буферные зоны, поэтому нужно воспользоваться **выбрать\\\\извлечь по пространственному отношению**.\n\nДля выбора объектов нужно сначала указать в каком слое осуществляется поиск (слой со зданиями), геометрический оператор (как объекты расположены относительно объектов другого слоя) и слой для сравнения (буферные зоны). Геометрические операторы в данном случае лучше выбирать *Пересекает* и *Находится внутри*.\n\n![](images/clipboard-126608668.png){fig-align=\"center\" width=\"1514\"}\n\nПо результатам извлечения вы получите новый слой, который будет содержать только здания, удовлетворяющие заданным условиям.\n\n![](images/clipboard-4146872066.png){fig-align=\"center\" width=\"1119\"}\n\n::: callout-tip\nИнструмент *Выбрать по расположению* работает аналогично, но результатом у вас будет не просто новый слой, а выделенный набор объектов в текущем слое.\n:::\n\n::: callout-tip\nТакеж вы можете попробовать найти здания в пределах заданного расстояния от школ при помощи инструментов *Выделить в пределах расстояния/Извлечение в пределах расстояния*.\n\nОднако следует помнить, что расстояние будет определяться в системе координат проекта, поэтому будет отличаться от того, что получено при помощи буферных зон.\n:::\n\n## Расчет количества доступных школ\n\nРассчитаем число доступных школ для каждого из наших зданий с использованием выражения агрегирования.\n\n![](images/clipboard-3012975634.png){fig-align=\"center\" width=\"1621\"}\n\n```         \n aggregate( 'school_bufer_f66eb7f4_5fbc_470a_acf4_0fd3649f38e1', aggregate:='count',expression:=\"osm_id\", filter:=within(geometry(@parent),@geometry))\n```\n\nКак видите, выражение очень похоже на то, что мы уже использовали, меняются только некоторые аргументы.\n\nВо-первых, используется другой тип агрегирования - `count`, то есть подсчет количества; во-вторых, используется другое выражение фильтрации - в этом случае мы ищем объекты исходного слоя, *попавшие внутрь буферных зон*.\n\nПо итогам расчета получен новый атрибут, в котором указано количество школ, находящееся в радиусе доступности.\n\n![](images/clipboard-1515118183.png){fig-align=\"center\" width=\"2209\"}\n\n## Определение ближайшей школы к зданию\n\nДля расчета расстояния от здания к ближайшему объекту сервиса воспользуемся формулой:\n\n```         \nwith_variable('nearnp',\narray_first(overlay_nearest('kindergarten_UTM_d1ac0582_6be2_4fa6_8614_1c4ddf641718',@feature)),\n round(distance($geometry,geometry(@nearnp)),2) )\n```\n\n![](images/clipboard-3824681529.png){fig-align=\"center\" width=\"1246\"}\n\n::: callout-important\nОчень важно, что слои должны быть в одной системе координат, в противном случае функция работать не будет.\n\nКроме того, следует помнить, что расстояние будет рассчитываться в единицах измерения используемой системы координат.\n:::\n\n# Сетевой анализ\n\n::: callout-warning\nК сожалению, в связи с обновлением библиотек и модулей, эти операции могут работать не у всех.\n\nЕсли у вас стабильная версия QGIS и вы работаете в операционной системе Windows, то у вас будет полноценно работать нужный модуль.\n:::\n\nОдин из плагинов, который использует для сетевого анализа задаваемый пользователем граф улично-дорожной сети - это плагин **QNEAT3 - QGIS network analysis toolbox**. После установки модуля он должен появиться в панели инструментов анализа.\n\nОсновные функции этого плагина:\n\n-   построение матриц времени - origin-destination matrix;\n\n-   построение изохрон в нескольких вариациях;\n\n-   поиск кратчайшего пути между точками.\n\n## Построение изохрон\n\nПостроение изохрон в плагине QNEAT3 возможно в нескольких вариациях от одной точки или от объектов точечного слоя:\n\n-   линии равного расстояния (равного времени);\n\n-   поверхность интерполяции времени или расстояния;\n\n-   облако точек с характеристиками времения или расстояния;\n\n-   полигональные объекты.\n\n::: callout-important\nДля корректной работы алгоритмов расчета изохрон в этом плагине рекомендуется применять только плоские прямоугольные системы координат (системы координат с единицами измерений в метрах).\n:::\n\nПостроение изохрон от одной точки и от объектов точечного слоя отличается только параметрами на входе и получаемым в результате количеством изохрон, поэтому далее будет рассмотрено построение изохрон от одной точки. Исходная точка может задаваться либо просто кликом на карте, либо ее можно задать по координатам.\n\nПри построении изохрон в виде линий равного расстояния или времени нужно задать:\n\n-   слой улично-дорожной сети;\n\n-   стартовую точку;\n\n-   размер области, в пределах которой осуществляется расчет (расстояние или время в зависимости от критерия оптимизации);\n\n-   интервал между линиями;\n\n-   размер ячейки растра, получаемого в результате интерполяции;\n\n-   критерий оптимизации\n\n    -   кратчайшее расстояние - оптимизация по расстоянию, в этом случае размер области и интервала задается в единицах измерения системы координат слоя;\n\n    -   наиболее быстрый путь - оптимизация по времени, в этом случае размер области и интервал задается в секундах.\n\n![](https://baltti.github.io/gis-itmo/images/250.PNG){fig-align=\"center\"}\n\nОстальные параметры являются дополнительными и аналогичны рассмотренным выше.\n\nРезультатом расчета в этом случае будет являться два новых слоя: растр с результатами интерполяции и слой с контурами равного расстояния или времени (в зависимости от выбранного критерия оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/251.PNG){fig-align=\"center\"}\n\nВ центре полученного растра и контуров находится исходная точка.\n\nРезультирующий растр показывает более сглаженные промежуточные значения, которые получаются на основе интерполяции значений между контурами.\n\nТакой же растр получается при расчета изохрон только в виде растровой поверхности (Iso-area as interpolation).\n\nПостроение изохрон как облака точек по параметрам аналогично рассмотреному выше построению в виде линий равного времени или расстояния с небольшими исключениями: здесь указывается только общий размер области, а также можно выбрать метод расчета расстояния (по эллипсоиду или на плоскости).\n\n![](https://baltti.github.io/gis-itmo/images/252.PNG){fig-align=\"center\"}\n\nВ результате получается слой, содержащий в себе все узлы улично-дорожной сети, каждому из которых присвоен атрибут расстояния (или времени в зависимости от параметра оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/253.PNG){fig-align=\"center\"}\n\nПостроение изохрон в виде полигональных объектов аналогично построению изохрон в виде линий равного времени/расстояния, только в результате вами будут получены не линейные объекты, а площадные со значениями времени или расстояния (в зависимости от выбранного критерия оптимизации).\n\n![](https://baltti.github.io/gis-itmo/images/254.PNG){fig-align=\"center\"}\n\nВ результате как и при построении изохрон в виде линий равного времени/расстояния получается два слоя: растровый слой с результатами интерполяции и векторный слой с полигональными объектами.\n\n![](https://baltti.github.io/gis-itmo/images/255.PNG){fig-align=\"center\"}\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"spatial.html"},"language":{"toc-title-document":"Содержание","toc-title-website":"Содержание","related-formats-title":"Другие форматы","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Источник","other-links-title":"Другие ссылки","code-links-title":"Ссылки на код","launch-dev-container-title":"Запустить Dev Container","launch-binder-title":"Запустить Binder","article-notebook-label":"Блокнот статьи","notebook-preview-download":"Скачать блокнот","notebook-preview-download-src":"Скачать исходный код","notebook-preview-back":"Вернуться к статье","manuscript-meca-bundle":"Архив MECA","section-title-abstract":"Аннотация","section-title-appendices":"Приложения","section-title-footnotes":"Сноски","section-title-references":"использованная литература","section-title-reuse":"Повторное использование","section-title-copyright":"Авторские права","section-title-citation":"Цитата","appendix-attribution-cite-as":"Пожалуйста, цитируйте эту работу как:","appendix-attribution-bibtex":"BibTeX","appendix-view-license":"Просмотреть Лицензию","title-block-author-single":"АВТОР","title-block-author-plural":"Авторы","title-block-affiliation-single":"Организация","title-block-affiliation-plural":"Принадлежности","title-block-published":"Дата публикации","title-block-modified":"Файл изменен","title-block-keywords":"Ключевые слова","callout-tip-title":"Дополнительно","callout-note-title":"На заметку","callout-warning-title":"Внимание","callout-important-title":"Важно","callout-caution-title":"Предупреждение","code-summary":"Код","code-tools-menu-caption":"Код","code-tools-show-all-code":"Развернуть код","code-tools-hide-all-code":"Скрыть код","code-tools-view-source":"Показать код","code-tools-source-code":"Исходный код","tools-share":"Share","tools-download":"Download","code-line":"Линия","code-lines":"Линии","copy-button-tooltip":"Скопировать текст","copy-button-tooltip-success":"Скопировано","repo-action-links-edit":"Редактировать страницу","repo-action-links-source":"Показать код","repo-action-links-issue":"Сообщить о проблеме","back-to-top":"Наверх","search-no-results-text":"Поиск не дал результатов","search-matching-documents-text":"Результаты поиска","search-copy-link-title":"Скопировать ссылку","search-hide-matches-text":"Скрыть дополнительные результаты","search-more-match-text":"дополнительный результат в этом документе","search-more-matches-text":"дополнительных результата(-ов) в этом документе","search-clear-button-title":"Очистить","search-text-placeholder":"","search-detached-cancel-button-title":"Отменить","search-submit-button-title":"Найти","search-label":"Поиск","toggle-section":"Переключить раздел","toggle-sidebar":"Переключить боковую панель навигации","toggle-dark-mode":"Переключить темный режим","toggle-reader-mode":"Переключить режим чтения","toggle-navigation":"Переключить навигацию","crossref-fig-title":"Рисунок","crossref-tbl-title":"Таблица","crossref-lst-title":"Список","crossref-thm-title":"Теорема","crossref-lem-title":"Лемма","crossref-cor-title":"Следствие","crossref-prp-title":"Утверждение","crossref-cnj-title":"Гипотеза","crossref-def-title":"Определение","crossref-exm-title":"Пример","crossref-exr-title":"Упражнение","crossref-ch-prefix":"Глава","crossref-apx-prefix":"Приложение","crossref-sec-prefix":"Глава","crossref-eq-prefix":"Уравнение","crossref-lof-title":"Список Иллюстраций","crossref-lot-title":"Список Таблиц","crossref-lol-title":"Список Каталогов","environment-proof-title":"Доказательство","environment-remark-title":"Примечание","environment-solution-title":"Решение","listing-page-order-by":"Сортировать по","listing-page-order-by-default":"предварительно выбранный","listing-page-order-by-date-asc":"Самый старый","listing-page-order-by-date-desc":"Новейшие","listing-page-order-by-number-desc":"нисходящий","listing-page-order-by-number-asc":"по возрастанию","listing-page-field-date":"Дата","listing-page-field-title":"Заголовок","listing-page-field-description":"Описание","listing-page-field-author":"Автор","listing-page-field-filename":"Имя файла","listing-page-field-filemodified":"Файл изменен","listing-page-field-subtitle":"Подзаголовок","listing-page-field-readingtime":"Время чтения","listing-page-field-wordcount":"Подсчет слов","listing-page-field-categories":"Категории","listing-page-minutes-compact":"{0} минут","listing-page-category-all":"Все","listing-page-no-matches":"Нет подходящих элементов","listing-page-words":"{0} слов","listing-page-filter":"Фильтр","draft":"Черновик"},"metadata":{"lang":"ru-RU","fig-responsive":true,"quarto-version":"1.7.32","editor":"visual","theme":"flatly","title":"Операции пространственного анализа"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}